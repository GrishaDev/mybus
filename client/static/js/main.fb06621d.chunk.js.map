{"version":3,"sources":["stateStuff/reducers/formReducer.js","stateStuff/reducers/requestsReducer.js","stateStuff/reducers/schedulesReducer.js","stateStuff/mainReducer.js","config/index.js","utils/wait.js","api/index.js","utils/history.js","stateStuff/mainSaga.js","stateStuff/store.js","theme.js","components/ThemeProvider/ThemeContext.js","components/ThemeProvider/ThemeProvider.jsx","workMaker.js","pages/MainPage/Header/index.jsx","pages/MainPage/Header/styles.js","components/ThemeProvider/UseTheme.js","utils/ruleConverter.js","pages/MainPage/Content/Schedule/index.jsx","pages/MainPage/Content/Schedule/styles.js","components/DeleteConfirm/index.jsx","pages/MainPage/Content/ViewSchedule/index.jsx","pages/MainPage/Content/ViewSchedule/styles.js","components/ScheduleForm/index.jsx","components/ScheduleForm/styles.js","components/dataDialog/index.jsx","components/dataDialog/styles.js","pages/MainPage/Content/index.jsx","pages/MainPage/Content/styles.js","pages/MainPage/AddSchedule/index.jsx","pages/MainPage/AddSchedule/styles.js","pages/MainPage/index.jsx","pages/Login/index.jsx","pages/Login/styles.js","utils/privateRoute/index.jsx","App.js","serviceWorker.js","index.js"],"names":["form","createSlice","name","initialState","dialogStatus","reducers","setDialogStatus","state","action","payload","actions","requests","updateSnackbar","showErrorAlert","showSuccessAlert","schedulesRequest","deleteScheduleRequest","createScheduleRequest","updateScheduleRequest","myschedules","mail","token","schedules","updateToken","updateSchedules","addSchedule","push","updateSchedule","id","console","log","index","findIndex","item","deleteSchedule","splice","loginRequest","combineReducers","formReducer","requestsReducer","schedulesReducer","ms","Promise","resolve","setTimeout","request","axios","create","baseURL","config","headers","auth","localStorage","update","status","data","rule","hour","minute","loginApi","a","wait","post","catch","err","response","res","getSchedulesApi","get","createScheduleApi","shortid","generate","bus","station","updateScheduleApi","put","deleteScheduleApi","delete","createBrowserHistory","watchLoginSaga","watchSchedulesSaga","watchDeleteSaga","watchCreateSaga","watchUpdateSaga","notification","init","loginSaga","getSchedulesSaga","deleteSchedulesSaga","createSchedulesSaga","updateSchedulesSaga","rootSaga","takeEvery","type","getContext","snackbar","Object","assign","enqueueSnackbar","variant","autoHideDuration","JSON","parse","call","setItem","stringify","success","error","toApp","message","msg","undefined","select","toLogin","history","all","sagaMiddleware","createSagaMiddleware","context","store","configureStore","reducer","mainReducer","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","run","mainSaga","lightTheme","responsiveFontSizes","createMuiTheme","body","text","palette","selected","teal","expanded","background","default","primary","secondary","red","darkTheme","main","themeCtx","React","createContext","storage","key","getItem","value","ThemeProvider","props","useState","isDark","setIsDark","contextValue","themeSwitch","ThemeContext","Provider","theme","CssBaseline","children","registration","useStyles","makeStyles","header","width","height","dark","float","hello","padding","classes","themeProvider","useContext","useSelector","className","IconButton","aria-label","onClick","NightsStay","Typography","opacity","transform","card","position","color","margin","animate","animation","container","display","verticalAlign","overflow","zIndex","right","top","forceTitle","marginTop","textAlign","fontSize","textOverflow","title","info","justifyContent","bottom","memo","schedule","ruleConverter","SetAnimate","isFirstRender","useRef","useEffect","current","bg","str","s","l","hash","i","length","charCodeAt","h","stringToHslColor","Paper","elevation","style","Badge","badgeContent","max","viewBox","preserveAspectRatio","d","stroke","fill","e","stopPropagation","Update","Delete","Transition","forwardRef","ref","Slide","direction","open","setOpen","onConfirm","handleClose","Dialog","TransitionComponent","keepMounted","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","content","minWidth","minHeight","flexWrap","fontWeight","center","items","keys","values","map","publicVapidKey","navigator","serviceWorker","register","process","scope","sub","urlBase64ToUint8Array","base64String","base64","repeat","replace","rawData","window","atob","outputArray","Uint8Array","pushManager","subscribe","userVisibleOnly","applicationServerKey","subscription","alignContent","fields","advanced","fake","tick","marginLeft","re","setForm","setAdvanced","handleTick","target","checked","getWebPushSub","touched","changeHandler","more","TextField","label","scheduleTrigger","helperText","onChange","times","icon","test","String","toLowerCase","validateMail","required","autoComplete","Checkbox","inputProps","ConnectedDataDialog","connect","loggedInMail","dispatch","createSchedule","dialogError","setDialogError","loading","setLoading","confirmDisabled","schedulescheduleTrigger","webPushSub","disableBackdropClick","disableEscapeKeyDown","LinearProgress","ScheduleForm","triggerValue","timesValue","forEach","disabled","maxHeight","overflowY","overflowX","contentGrid","listStyleType","gridTemplateColumns","gridAutoRows","gridGap","noSchedules","connectedMainPage","getSchedules","useSnackbar","openUpdate","setOpenUpdate","openDelete","setOpenDelete","openView","setOpenView","handleOpenUpdate","handleOpenDelete","handleOpenView","cards","flipId","flipKey","ViewSchedule","AddButton","openCreate","setopenCreate","Fab","Header","Content","svgContainer","paddingBottom","svgContent","left","flexDirection","formBox","mailField","connectedLoginPage","login","setMail","removeItem","autoFocus","onKeyPress","preventDefault","endIcon","connectedPrivateRoute","Component","component","rest","render","to","pathname","from","location","App","maxSnack","exact","path","Login","MainPage","Boolean","hostname","match","ReactDOM","Fragment","document","getElementById","ready","then","unregister"],"mappings":"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","file":"static/js/main.fb06621d.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n    // currentSchedule: {},\r\n    dialogStatus: null,\r\n    // error: 'wtf?',\r\n    // mail: '',\r\n    // bus: '',\r\n    // station: '',\r\n    // scheduleTrigger: '',\r\n    // times: '',\r\n    // hour: '',\r\n    // minute: '',\r\n    // checked: false\r\n};\r\n\r\n\r\nconst form = createSlice({\r\n    name: 'form',\r\n    initialState,\r\n    reducers: {\r\n        // setCurrentSchedule: (state, action) => {\r\n        //     state.currentSchedule = action.payload;\r\n        // },\r\n        setDialogStatus: (state, action) => {\r\n            state.dialogStatus = action.payload;\r\n        },\r\n        // setMail: (state, action) => {\r\n        //     state.mail = action.payload;\r\n        //     const { mail, bus, station, hour, minute } = state;\r\n        //     state.error = validation(mail,bus,station,hour,minute);\r\n        // },\r\n        // setBus: (state, action) => {\r\n        //     state.bus = action.payload;\r\n        //     const { mail, bus, station, hour, minute } = state;\r\n        //     state.error = validation(mail,bus,station,hour,minute);\r\n        // },\r\n        // setStation: (state, action) => {\r\n        //     state.station = action.payload;\r\n        //     const { mail, bus, station, hour, minute } = state;\r\n        //     state.error = validation(mail,bus,station,hour,minute);\r\n        // },\r\n        // setTrigger: (state, action) => {\r\n        //     state.scheduleTrigger = action.payload;\r\n        // },\r\n        // setTimes: (state, action) => {\r\n        //     state.times = action.payload;\r\n        // },\r\n        // setHour: (state, action) => {\r\n        //     state.hour = action.payload;\r\n        //     const { mail, bus, station, hour, minute } = state;\r\n        //     state.error = validation(mail,bus,station,hour,minute);\r\n        // },\r\n        // setMinute: (state, action) => {\r\n        //     state.minute = action.payload;\r\n        //     const { mail, bus, station, hour, minute } = state;\r\n        //     state.error = validation(mail,bus,station,hour,minute);\r\n        // },\r\n        // setChecked: (state, action) => {\r\n        //     state.checked = action.payload;\r\n        // },\r\n        // setError: (state, action) => {\r\n        //     state.error = action.payload;\r\n        // },\r\n    }\r\n})\r\n\r\nexport const {\r\n    // setCurrentSchedule,\r\n    setDialogStatus,\r\n    // setMail,\r\n    // setBus,\r\n    // setStation,\r\n    // setTrigger,\r\n    // setTimes,\r\n    // setHour,\r\n    // setMinute,\r\n    // setChecked,\r\n    // setError\r\n} = form.actions;\r\n\r\nexport default form.reducer;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\n\r\nconst requests = createSlice({\r\n    name: 'requests',\r\n    initialState: {},\r\n    reducers: {\r\n        updateSnackbar() {},\r\n        showErrorAlert() {},\r\n        showSuccessAlert() {},\r\n        schedulesRequest() {},\r\n        deleteScheduleRequest() {},\r\n        createScheduleRequest() {},\r\n        updateScheduleRequest() {},\r\n    }\r\n})\r\n\r\nexport const {\r\n    updateSnackbar,\r\n    showErrorAlert,\r\n    showSuccessAlert,\r\n    schedulesRequest,\r\n    deleteScheduleRequest,\r\n    createScheduleRequest,\r\n    updateScheduleRequest\r\n} = requests.actions;\r\n\r\nexport default requests.reducer;","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n    mail: '',\r\n    token: '',\r\n    dialogStatus: null,\r\n    schedules: null,\r\n};\r\n\r\n\r\nconst myschedules = createSlice({\r\n    name: 'myschedules',\r\n    initialState,\r\n    reducers: {\r\n        updateToken: (state, action) => {\r\n            state.token = action.payload;\r\n        },\r\n        updateSchedules: (state, action) => {\r\n            const { payload } = action;\r\n            state.schedules = payload;\r\n        },\r\n        addSchedule: (state, action) => {\r\n            state.schedules.push(action.payload);\r\n        },\r\n        updateSchedule: (state, action) => {\r\n            const { id } = action.payload;\r\n            console.log(id);\r\n            let index = state.schedules.findIndex((item)=> item.id === id);\r\n            state.schedules[index] = action.payload;\r\n        },\r\n        deleteSchedule: (state, action) => {\r\n            let index = state.schedules.findIndex((item)=> item.id === action.payload);\r\n            state.schedules.splice(index,1);\r\n        },\r\n        loginRequest: (state, action) => {\r\n            state.mail = action.payload;\r\n        },\r\n        setDialogStatus: (state, action) => {\r\n            state.dialogStatus = action.payload;\r\n        },\r\n    }\r\n})\r\n\r\nexport const {\r\n    updateToken,\r\n    updateSchedules,\r\n    addSchedule,\r\n    updateSchedule,\r\n    deleteSchedule,\r\n    loginRequest,\r\n    setDialogStatus,\r\n} = myschedules.actions;\r\n\r\nexport default myschedules.reducer;","import { combineReducers } from 'redux';\r\nimport formReducer from './reducers/formReducer';\r\nimport requestsReducer from './reducers/requestsReducer';\r\nimport schedulesReducer from './reducers/schedulesReducer';\r\n\r\nexport default combineReducers({\r\n  form: formReducer,\r\n  requests: requestsReducer,\r\n  myschedules: schedulesReducer\r\n});\r\n\r\n// import { createSlice } from '@reduxjs/toolkit';\r\n\r\n// const initialState = {\r\n//     mail: '',\r\n//     token: '',\r\n//     dialogStatus: null,\r\n//     schedules: [\r\n//         // {id: '3294a', mail: \"blabla@bla.com\", rule: {hour: 5, minute: 5}},\r\n//         // {id: '3294b', mail: \"blabla@bla.com\", rule: {hour: 5, minute: 5}}\r\n//     ]\r\n// };\r\n\r\n\r\n// const myschedules = createSlice({\r\n//     name: 'myschedules',\r\n//     initialState,\r\n//     reducers: {\r\n//         updateToken: (state, action) => {\r\n//             state.token = action.payload;\r\n//         },\r\n//         updateSchedules: (state, action) => {\r\n//             const { payload } = action;\r\n//             state.schedules = payload;\r\n//         },\r\n//         addSchedule: (state, action) => {\r\n//             state.schedules.push(action.payload);\r\n//         },\r\n//         updateSchedule: (state, action) => {\r\n//             const { id } = action.payload;\r\n//             console.log(id);\r\n//             let index = state.schedules.findIndex((item)=> item.id === id);\r\n//             state.schedules[index] = action.payload;\r\n//         },\r\n//         deleteSchedule: (state, action) => {\r\n//             let index = state.schedules.findIndex((item)=> item.id === action.payload);\r\n//             state.schedules.splice(index,1);\r\n//         },\r\n//         loginRequest: (state, action) => {\r\n//             state.mail = action.payload;\r\n//         },\r\n//         setDialogStatus: (state, action) => {\r\n//             state.dialogStatus = action.payload;\r\n//         },\r\n//         updateSnackbar() {},\r\n//         showErrorAlert() {},\r\n//         showSuccessAlert() {},\r\n//         schedulesRequest() {},\r\n//         deleteScheduleRequest() {},\r\n//         createScheduleRequest() {},\r\n//         updateScheduleRequest() {},\r\n//     }\r\n// })\r\n\r\n// export const {\r\n//     updateToken,\r\n//     updateSchedules,\r\n//     addSchedule,\r\n//     updateSchedule,\r\n//     deleteSchedule,\r\n//     loginRequest,\r\n//     setDialogStatus,\r\n//     updateSnackbar,\r\n//     showErrorAlert,\r\n//     showSuccessAlert,\r\n//     schedulesRequest,\r\n//     deleteScheduleRequest,\r\n//     createScheduleRequest,\r\n//     updateScheduleRequest\r\n// } = myschedules.actions;\r\n\r\n// export default myschedules.reducer;","export default {\r\n    env: 'dev',\r\n    isMock: false,\r\n    serverUrl: '/api/',\r\n    vapidkey: 'BCD4EBerkE5vr8-MTicFVCVtL2-EEUORed8kRH4PncfX_S92s3ArP4uWJEt0-5ok0cos4uKxr4osFuelJzGNhSc'\r\n}\r\n\r\n// export default {\r\n//     env: process.env.REACT_APP_ENV,\r\n//     isMock: process.env.REACT_APP_IS_MOCK,\r\n//     serverUrl: process.env.REACT_APP_SERVER_URL,\r\n//     vapidkey: process.env.REACT_APP_VAPID_KEY\r\n// }","export default (ms) => {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}","import axios from 'axios';\r\nimport config from 'config';\r\nimport shortid from \"shortid\";\r\nimport wait from 'utils/wait';\r\n\r\n// httpsAgent: new https.Agent({  \r\n//     rejectUnauthorized: false\r\n//   }),\r\n\r\nconst request = axios.create({\r\n    baseURL: config.serverUrl,\r\n    headers: {auth: localStorage.token}\r\n});\r\n\r\nconst mockSchedules = [\r\n    {id: '3294a', name: \"haha\", mail: \"blabla@bla.com\", rule: {hour: 9, minute: 30}, bus: 126, station: 3359},\r\n    {id: '925bamba28', name: \"arbuz\", mail: \"blablaaa@bla.com\", rule: {hour: 15, minute: 22}, bus: 171, station: 1000},\r\n    {id: 'k0edCov0L', name: \"arbuz\", mail: \"blablaaa@bla.com\", rule: {hour: 15, minute: 22}, bus: 171, station: 1000},\r\n    {id: 'UV2TWMXak', name: \"arbuz\", mail: \"blablaaa@bla.com\", rule: {hour: 15, minute: 22}, bus: 171, station: 1000},\r\n    {id: 'xGEzN-iNG', name: \"arbuz\", mail: \"blablaaa@bla.com\", rule: {hour: 15, minute: 22}, bus: 171, station: 1000}\r\n]\r\n\r\n// const create = {id: '223', mail: \"bla213bla@bla.com\", rule: {hour: 52, minute: 5}};\r\nconst update = {status: 200, data: {id: '3294a', mail: \"bla213bla@bla.com\", rule: {hour: 52, minute: 5}}};\r\n\r\nconst loginApi = async (data) => {\r\n    if(config.isMock) { await wait(250); return {data: '392A8349ABs9359SA'} };\r\n    const res = await request.post('login', data).catch(err => { throw (err.response) });\r\n    return res;\r\n}\r\n\r\nconst getSchedulesApi = async (mail) => {\r\n    if(config.isMock) { await wait(1250); return {data: []}; } //mockSchedules\r\n    const res = await request.get(`schedules/mail/${mail}`).catch(err => { throw (err.response) });\r\n    return res;\r\n}\r\n\r\nconst createScheduleApi = async (data) => {\r\n    if(config.isMock) { await wait(1250); return {status: 200, data: {id: shortid.generate(), mail: \"bla213bla@bla.com\", rule: {hour: 52, minute: 5}, bus: 271, station: 5, name: \"test\"}}; }\r\n    // await wait(1000);\r\n    const res = await request.post(`schedule`, data).catch(err => { throw (err.response)});\r\n    return res;\r\n}\r\n\r\nconst updateScheduleApi = async (id, data) => {\r\n    if(config.isMock) { await wait(250); return update; }\r\n    const res = await request.put(`schedule/${id}`, data).catch(err => { throw (err.response)});\r\n    return res;\r\n}\r\n\r\nconst deleteScheduleApi = async (id) => {\r\n    if(config.isMock) { await wait(250); return {status: 200}; }\r\n    const res = await request.delete(`schedule/${id}`).catch(err => { throw (err.response) });\r\n    return res;\r\n}\r\n\r\nexport { loginApi, getSchedulesApi, createScheduleApi, updateScheduleApi, deleteScheduleApi };","import { createBrowserHistory } from 'history';\r\n\r\nexport default createBrowserHistory();","// import { all } from 'redux-saga/effects';\r\n// import something from './something/somethingSaga';\r\n\r\n// export default function* mainSaga() {\r\n//   yield all([\r\n//     something()\r\n//   ]);\r\n// }\r\n\r\n \r\nimport { put, call, takeEvery, all, select, getContext } from 'redux-saga/effects';\r\n// import { updateToken, updateSchedules, loginRequest, \r\n// schedulesRequest, deleteScheduleRequest, createScheduleRequest, updateScheduleRequest,\r\n// addSchedule, updateSchedule, deleteSchedule, updateSnackbar, showErrorAlert, showSuccessAlert, setDialogStatus } from './mainReducer';\r\n\r\nimport { showErrorAlert, schedulesRequest, deleteScheduleRequest, createScheduleRequest, updateScheduleRequest,\r\nshowSuccessAlert, updateSnackbar } from './reducers/requestsReducer';\r\nimport { loginRequest, updateToken, updateSchedules, addSchedule, updateSchedule, deleteSchedule} from './reducers/schedulesReducer';\r\nimport { setDialogStatus } from './reducers/formReducer';\r\n\r\nimport { loginApi, getSchedulesApi, createScheduleApi, updateScheduleApi, deleteScheduleApi } from 'api';\r\nimport history from 'utils/history';\r\n\r\nexport function* watchLoginSaga() {\r\n    yield takeEvery(loginRequest.type, loginSaga)\r\n}\r\n\r\nexport function* watchSchedulesSaga() {\r\n    yield takeEvery(schedulesRequest.type, getSchedulesSaga)\r\n}\r\n\r\nexport function* watchDeleteSaga() {\r\n    yield takeEvery(deleteScheduleRequest.type, deleteSchedulesSaga)\r\n}\r\n\r\nexport function* watchCreateSaga() {\r\n    yield takeEvery(createScheduleRequest.type, createSchedulesSaga)\r\n}\r\n\r\nexport function* watchUpdateSaga() {\r\n    yield takeEvery(updateScheduleRequest.type, updateSchedulesSaga)\r\n}\r\n\r\nexport function *notification() {\r\n    yield takeEvery(updateSnackbar, function* (action) {\r\n        const snackbar = yield getContext(\"snackbar\");\r\n        Object.assign(snackbar, action.payload);\r\n    })\r\n    yield takeEvery(showErrorAlert, function* (action) {\r\n        const context = yield getContext(\"snackbar\");\r\n        context.enqueueSnackbar(action.payload, { variant: 'error',  autoHideDuration: 2000 });\r\n    })\r\n    yield takeEvery(showSuccessAlert, function* (action) {\r\n        const context = yield getContext(\"snackbar\");\r\n        context.enqueueSnackbar(action.payload, { variant: 'success',  autoHideDuration: 2000 });\r\n    })\r\n}\r\n\r\nfunction *init() {\r\n    if(!localStorage.auth) return;\r\n    const auth = JSON.parse(localStorage.auth);\r\n    if(auth) {\r\n        const { mail } = auth;\r\n        // // TO DO::  yield validate token, if good continue otherwise do nothing\r\n        // yield put(updateToken(token));\r\n        yield put(loginRequest(mail))\r\n        // yield call(toApp);\r\n    }\r\n}\r\n\r\nfunction* loginSaga(data) {\r\n    try {\r\n        const { payload } = data;\r\n        const { data: token } = yield call(loginApi, {mail: payload});\r\n        console.log(token);\r\n        localStorage.setItem(\"auth\", JSON.stringify({ token, mail: payload }));\r\n        yield put(setDialogStatus({success: true, error: null}));\r\n        yield put(updateToken(token));\r\n        yield call(toApp);\r\n    }\r\n    catch(err){\r\n        if(err.status === 401) {\r\n            console.log('Unauthorized');\r\n            yield put (setDialogStatus({success: false, error: err.data.message}));\r\n            return;\r\n        }\r\n        else {\r\n            console.log(`Error ${err.status}`);\r\n            const msg = err.data.message === undefined ? 'Error contacting server' : err.data.message;\r\n            yield put (setDialogStatus({success: false, error: msg}));\r\n        }\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* getSchedulesSaga() {\r\n    const state = yield select();\r\n    const mail = state.myschedules.mail;\r\n    try {\r\n        const schedules = yield call(getSchedulesApi, mail);\r\n        // if(schedules.status === 401) {\r\n        //     console.log('Unauthorized');\r\n        //     yield call(toLogin);\r\n        //     return;\r\n        // }\r\n        yield put(updateSchedules(schedules.data));\r\n        yield put(showSuccessAlert(`Got Schedules`));\r\n\r\n    }\r\n    catch(err) {\r\n        if(err.status === 401) {\r\n            console.log('Unauthorized');\r\n            yield call(toLogin);\r\n            return;\r\n        }\r\n        else {\r\n            yield put(showErrorAlert('Cant get schedules from server'));\r\n        }\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* deleteSchedulesSaga(data) {\r\n    const { payload } = data;\r\n    try { \r\n        yield call(deleteScheduleApi, payload);\r\n        // if(res.statusCode !== 200) {\r\n        //     console.log(`Error ${res.status}`);\r\n        //     yield put(showErrorAlert(`Failed deleting, status ${res.status}`));\r\n        //     return;\r\n        // }\r\n        yield put(deleteSchedule(payload));\r\n        yield put(showSuccessAlert(`Deleted`))\r\n    }\r\n    catch(err) {\r\n        if(err.status === 401) {\r\n            console.log('Unauthorized');\r\n            yield call(toLogin);\r\n            return;\r\n        }\r\n        else {\r\n            console.log(`Error ${err.status}`);\r\n            yield put(showErrorAlert(`Failed deleting, status ${err.status}`));\r\n        }\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* createSchedulesSaga(data) {\r\n    const { payload } = data;\r\n    try { \r\n        const res = yield call(createScheduleApi, payload);\r\n        // if(res.status !== 200) {\r\n        //     console.log(`Error ${res.status}`);\r\n        //     yield put(showErrorAlert(`Failed creating, status ${res.status}`));\r\n        //     yield put(setDialogStatus({success: false, error: res.message}));\r\n        //     return;\r\n        // }\r\n\r\n        yield put(addSchedule(res.data));\r\n        yield put(showSuccessAlert('Created'));\r\n        yield put(setDialogStatus({success: true, error: null}));\r\n    }\r\n    catch(err) {\r\n        if(err.status === 401) {\r\n            console.log('Unauthorized');\r\n            yield call(toLogin);\r\n            return;\r\n        }\r\n        else {\r\n            console.log(`Error ${err.status}`);\r\n            yield put(showErrorAlert(`Failed creating, status ${err.status}`));\r\n            yield put (setDialogStatus({success: false, error: err.data.message}));\r\n        }\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction* updateSchedulesSaga(data) {\r\n    // console.log('TFU');\r\n    // console.log(id);\r\n    // console.log(data);\r\n    const { payload } = data;\r\n    try {\r\n        const res = yield call(updateScheduleApi, payload.id, payload.data);\r\n        // if(res.status !== 200) {\r\n        //     console.log(`Error ${res.status}`);\r\n        //     yield put(showErrorAlert(`Failed updating, status ${res.status}`));\r\n        //     yield put(setDialogStatus({success: false, error: res.message}));\r\n        //     return;\r\n        // }\r\n\r\n        yield put(updateSchedule(res.data));\r\n        yield put(showSuccessAlert('Updated'));\r\n        yield put (setDialogStatus({success: true, error: null}));\r\n    }\r\n    catch(err) {\r\n        if(err.status === 401) {\r\n            console.log('Unauthorized');\r\n            yield call(toLogin);\r\n            return;\r\n        }\r\n        else {\r\n            console.log(`Error ${err.status}`);\r\n            yield put(showErrorAlert(`Failed updating, status ${err.status}`));\r\n            yield put (setDialogStatus({success: false, error: err.data.message}));\r\n        }\r\n        console.log(err);\r\n    }\r\n}\r\n    \r\n    \r\n\r\nfunction toApp() { \r\n    history.push('/');\r\n}\r\n\r\nfunction toLogin() { \r\n    history.push('/login');\r\n}\r\n\r\n\r\n\r\nexport default function* rootSaga() {\r\n    yield all([\r\n        init(),\r\n        watchLoginSaga(),\r\n        watchSchedulesSaga(),\r\n        watchDeleteSaga(),\r\n        watchCreateSaga(),\r\n        watchUpdateSaga(),\r\n        notification()\r\n    ]);\r\n}","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport mainReducer from './mainReducer';\r\nimport  { updateSnackbar, createScheduleRequest, showErrorAlert } from './reducers/requestsReducer';\r\nimport  { setDialogStatus } from './reducers/formReducer';\r\n\r\nimport mainSaga from './mainSaga';\r\n \r\nconst sagaMiddleware = createSagaMiddleware({context: {snackbar: {}}});\r\n\r\nconst store = configureStore({\r\n  reducer: mainReducer,\r\n  middleware: [\r\n    ...getDefaultMiddleware({serializableCheck: {ignoredActions: [updateSnackbar.type, setDialogStatus.type,\r\n      createScheduleRequest.type, showErrorAlert.type]}}), \r\n  sagaMiddleware]\r\n});\r\n\r\nsagaMiddleware.run(mainSaga);\r\n\r\nexport default store;"," \r\nimport { createMuiTheme, responsiveFontSizes } from '@material-ui/core/styles';\r\nimport red from '@material-ui/core/colors/red';\r\nimport teal from '@material-ui/core/colors/teal';\r\n\r\nexport const lightTheme = responsiveFontSizes(createMuiTheme({\r\n    body: '#F5F5F5',\r\n    text: '#363537',\r\n    palette: {\r\n      action: {\r\n        selected: teal[400],\r\n        expanded: teal[100]\r\n      },\r\n      background: {\r\n        default: \"#F5F5F5\"\r\n      },\r\n      text: {\r\n        primary: \"#000000\"\r\n      },\r\n      primary: teal,\r\n      secondary: red,\r\n      type: 'light'\r\n    },\r\n  }));\r\n  \r\n  export const darkTheme = responsiveFontSizes(createMuiTheme({\r\n    body: '#363537',\r\n    text: '#FAFAFA',\r\n    palette: {\r\n      action: {\r\n        selected: teal[600],\r\n        expanded: teal[100]\r\n      },\r\n      background: {\r\n        default: \"#363537\"\r\n      },\r\n      text: {\r\n        primary: \"#ffffff\"\r\n      },\r\n      primary: { main: teal[600] },\r\n      secondary: red,\r\n      type: 'dark'\r\n    },\r\n  }));"," \r\nimport React from \"react\";\r\n\r\nconst themeCtx = React.createContext(null)\r\nexport default themeCtx;","import React from 'react';\r\nimport { lightTheme, darkTheme } from 'theme.js';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport ThemeContext from './ThemeContext';\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nconst storage = {\r\n    getItem(key) {\r\n      if (localStorage) {\r\n        return localStorage.getItem(key);\r\n      }\r\n    },\r\n    setItem(key, value) {\r\n      if (localStorage) {\r\n        return localStorage.setItem(key, value);\r\n      }\r\n    }\r\n  };\r\n\r\n  \r\nexport default function ThemeProvider(props) {\r\n    const [isDark, setIsDark] = React.useState(storage.getItem(\"darkTheme\") === \"true\");\r\n\r\n    const themeSwitch = () => {\r\n        storage.setItem('darkTheme', !isDark)\r\n        setIsDark(!isDark);\r\n    };\r\n\r\n    const contextValue = {\r\n        themeSwitch: themeSwitch\r\n    }\r\n\r\n    return (\r\n        <ThemeContext.Provider value={contextValue}>\r\n            <MuiThemeProvider theme={isDark ? darkTheme : lightTheme}>\r\n                <CssBaseline />\r\n                {props.children}\r\n            </MuiThemeProvider>\r\n        </ThemeContext.Provider>\r\n    );\r\n}","import config from 'config';\r\n\r\nconst publicVapidKey = config.vapidkey;\r\nlet registration;\r\n\r\n// console.log(navigator.serviceWorker);\r\n// console.log(typeof navigator.serviceWorker);\r\n\r\n(async ()=> {\r\n    console.log('Registering service worker');\r\n    if ('serviceWorker' in navigator) {\r\n        registration = await navigator.serviceWorker.register(`${process.env.PUBLIC_URL}/worker.js`, {scope: '/public'}).catch(err=> console.log(err));\r\n        console.log('Registered service worker');\r\n    }\r\n    else console.log('no service worker');\r\n})();\r\n\r\n\r\nexport default async () => {\r\n\r\n    if ('serviceWorker' in navigator) {\r\n        console.log('Registering service worker');\r\n        const sub = await run().catch(error => { console.log(error)});\r\n        return sub;\r\n    }\r\n}\r\n\r\nfunction urlBase64ToUint8Array(base64String) {\r\n    var padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    //eslint-disable-next-line\r\n    var base64 = (base64String + padding).replace(/\\-/g, '+').replace(/_/g, '/');\r\n\r\n    var rawData = window.atob(base64);\r\n    var outputArray = new Uint8Array(rawData.length);\r\n\r\n    for (var i = 0; i < rawData.length; ++i) {\r\n        outputArray[i] = rawData.charCodeAt(i);\r\n    }\r\n    return outputArray;\r\n}\r\n\r\nasync function run() {\r\n\r\n  const subscription = await registration.pushManager.subscribe({\r\n      userVisibleOnly: true,\r\n      // The `urlBase64ToUint8Array()` function is the same as in\r\n      // https://www.npmjs.com/package/web-push#using-vapid-key-for-applicationserverkey\r\n      applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\r\n    }).catch(err=> console.log(err));\r\n  console.log('Registered push');\r\n  return subscription;\r\n}\r\n","import  React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport styles from './styles';\r\nimport useTheme from 'components/ThemeProvider/UseTheme';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { NightsStay } from '@material-ui/icons';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { useSelector } from 'react-redux';\r\nimport NotInterestedIcon from '@material-ui/icons/NotInterested';\r\nimport history from 'utils/history';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default () => {\r\n    const classes = useStyles();\r\n    const themeProvider = useTheme();\r\n\r\n    const mail = useSelector(\r\n        state => state.myschedules.mail\r\n    );\r\n    \r\n    const logout = () => {\r\n        history.push('/login');\r\n    }\r\n\r\n    return (\r\n        <div className={classes.header}>\r\n            <IconButton className={classes.dark} aria-label=\"theme\" onClick={() => themeProvider.themeSwitch()}>\r\n              <NightsStay/>\r\n            </IconButton>\r\n            <IconButton className={classes.hello} aria-label=\"leave\" onClick={logout}>\r\n              <NotInterestedIcon/>\r\n            </IconButton>\r\n            <Typography className={classes.hello}>{`Hello ${mail}`}</Typography>\r\n        </div>\r\n    )\r\n}\r\n","export default {\r\n    header: {\r\n        width: '100%',\r\n        background: 'rgba(0,0,0,0.1)',\r\n        // paddingTop: '10px',\r\n        // display: 'flex',\r\n        // justifyContent: 'flex-end',\r\n        // height: '5%'\r\n        height: 50\r\n    },\r\n    dark: {\r\n        float: 'right'\r\n    },\r\n    hello: {\r\n        float: 'left',\r\n        padding: 10\r\n    }\r\n}","import React from 'react';\r\nimport themeCtx from './ThemeContext';\r\n\r\nexport default function useTheme () {\r\n    return React.useContext(themeCtx)\r\n}","export default rule => {\r\n    let { hour, minute } = rule;\r\n    hour = hour < 10 ? `0${hour}` : hour;\r\n    minute = minute < 10 ? `0${minute}` : minute;\r\n    return `${hour}:${minute}`;\r\n}","import  React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport styles from './styles';\r\n// import Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n// import Icon from '@material-ui/core/Icon';\r\nimport { Delete , Update } from '@material-ui/icons';\r\nimport 'App.css'\r\nimport ruleConverter from 'utils/ruleConverter';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport DirectionsBusIcon from '@material-ui/icons/DirectionsBus';\r\nimport ScheduleIcon from '@material-ui/icons/Schedule';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst stringToHslColor =(str, s = 30, l = 50) => {\r\n  let hash = 0;\r\n  for (let i = 0; i < str.length; i++) {\r\n    hash = str.charCodeAt(i) + ((hash << 5) - hash);\r\n  }\r\n\r\n  let h = hash % 360;\r\n  return 'hsl('+h+', '+s+'%, '+l+'%)';\r\n}\r\n\r\nexport default React.memo(({schedule, updateSchedule, deleteSchedule}) => {\r\n    const rule = `${ruleConverter(schedule.rule)}`\r\n    const classes = useStyles();\r\n    const [animate, SetAnimate] = React.useState(true);\r\n\r\n    const isFirstRender = React.useRef(true);\r\n    // eslint-disable-next-line\r\n    React.useEffect(() => {\r\n      if (isFirstRender.current) {\r\n        isFirstRender.current = false;\r\n        return;\r\n      }\r\n      SetAnimate(false);\r\n    });\r\n\r\n\r\n    const clickUpdate= e => {\r\n      e.stopPropagation();\r\n      updateSchedule(schedule)\r\n    }; \r\n\r\n    const clickDelete= e => {\r\n      e.stopPropagation();\r\n      deleteSchedule(schedule)\r\n    }; \r\n\r\n    const bg = stringToHslColor(schedule.id);\r\n\r\n    return (\r\n      <>\r\n        <Paper elevation={3} className={`${classes.card} ${animate ? classes.animate : null}`} style={{background: bg}}> \r\n          <Badge className={classes.bus} badgeContent={schedule.bus} max={999} color=\"primary\">\r\n            <DirectionsBusIcon fontSize=\"small\" />\r\n          </Badge>\r\n          <div className={classes.title}>\r\n            {/* <div className={classes.container}> */}\r\n              <svg viewBox=\"0 0 500 130\" preserveAspectRatio=\"xMinYMin meet\">\r\n                <path d=\"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z\" style={{stroke: 'none', fill:'rgba(0,0,0,0.2)'}}></path>\r\n              </svg>\r\n              <div className={classes.forceTitle}>{schedule.name}</div>\r\n            {/* </div> */}\r\n             \r\n          </div> \r\n          <div className={classes.info}>\r\n              <ScheduleIcon style={{marginTop: 10}}/> <p>{rule}</p>\r\n          </div>\r\n          <div className={classes.actions}>\r\n            <IconButton style={{color: 'white'}} aria-label=\"update\" onClick={clickUpdate}>\r\n              <Update/>\r\n            </IconButton>\r\n            <IconButton style={{color: 'white'}} aria-label=\"delete\" onClick={clickDelete}>\r\n              <Delete/>\r\n            </IconButton>\r\n          </div>\r\n        </Paper>\r\n      </>\r\n    )\r\n})\r\n","\r\n// svg {\r\n//     display: inline-block;\r\n//     position: absolute;\r\n//     top: 0;\r\n//     left: 0;\r\n//   }\r\n//   .container {\r\n//     display: inline-block;\r\n//     position: relative;\r\n//     width: 100%;\r\n//     padding-bottom: 100%;\r\n//     vertical-align: middle;\r\n//     overflow: hidden;\r\n//   }\r\n\r\n  \r\nexport default {\r\n    '@keyframes something': {\r\n        '0%': { opacity: '0' },\r\n        '100%': { opacity: '1' }\r\n    },\r\n        '@keyframes fly': {\r\n        '0%': { transform: 'translateX(-400%)' },\r\n        '100%': { transform: 'translateX(0%)' }\r\n    },\r\n    card: {\r\n        position: 'relative',\r\n        color: 'white',\r\n        // background: 'yellow',\r\n        margin: '30px',\r\n        height: '140px',\r\n        width: '200px',\r\n        // animation: '$fly 0.75s ease-out 1',\r\n        // animationIterationCount: 1\r\n        // padding: 10,\r\n        // flex: '1',\r\n        // transition: 'flex 250ms linear'\r\n        // maxWidth: '40%',\r\n    },\r\n    animate: {\r\n        animation: '$fly 0.75s ease-out',\r\n    },\r\n    container: {\r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        width: '100%',\r\n        // paddingBottom: '100%',\r\n        verticalAlign: 'middle',\r\n        overflow: 'hidden',\r\n        zIndex: 10,\r\n     },\r\n    bus: {\r\n        position: 'absolute',\r\n        right: 0,\r\n        top: 0,\r\n    },\r\n    forceTitle: {\r\n        marginTop: 5,\r\n        width: '100%',\r\n        position: 'absolute',\r\n        top: 0,\r\n        textAlign: 'center',\r\n        fontSize: 'large',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        margin: '0 auto',\r\n    },\r\n    title: {\r\n        // background: 'rgba(0,0,0,0.5)',\r\n        // borderRadius: '100% 40% 20% 40%',\r\n        // margin: '0 auto',\r\n        // width: '100%',\r\n        // textAlign: 'center',\r\n        // fontSize: 'large',\r\n        // overflow: 'hidden',\r\n        // textOverflow: 'ellipsis',\r\n        // marginTop: 5\r\n    },\r\n    info: {\r\n        // textAlign: 'center',\r\n        // marginTop: 30,\r\n        // verticalAlign: 'middle',\r\n        margin: '0 auto',\r\n        width: '50%',\r\n        display: 'flex',\r\n        justifyContent: 'space-around',\r\n        // alignItems: 'flex-start'\r\n    },\r\n    actions: {\r\n        position: 'absolute',\r\n        // marginTop: 30,\r\n        height: 30,\r\n        bottom: 5,\r\n        width: '100%',\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    }\r\n}\r\n\r\n// '@keyframes something': {\r\n//     '0%': { transform: 'translateY(1000%)' },\r\n//     '100%': { transform: 'translateY(0%)' }\r\n//   },","import React from 'react';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\n// import styles from './styles';\r\n\r\n// const useStyles = makeStyles(styles);\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default ({ open, setOpen, item, onConfirm }) => {\r\n//   const classes = useStyles();\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const title = `Delete ${item?.name || ''}?`;\r\n\r\n  return (\r\n      <Dialog\r\n        open={open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\">{title}</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-slide-description\">\r\n            this will delete forever!\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            No\r\n          </Button>\r\n          <Button onClick={()=> onConfirm() } color=\"primary\">\r\n            Yes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  )\r\n}\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\n\r\nimport styles from './styles';\r\nimport ruleConverter from 'utils/ruleConverter';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nexport default ({ open, setOpen, schedule }) => {\r\n  const classes = useStyles();\r\n\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  const title = `Schedule ${schedule?.name || ''}`;\r\n\r\n  let items;\r\n  if(schedule) {\r\n    let keys = Object.keys(schedule);\r\n    let values = Object.values(schedule);\r\n    items = values.map((item,index)=> {\r\n        let text = keys[index] === 'rule' ? ruleConverter(item) : item;\r\n        // text = keys[index] === 'webPushSub' ? item ? true : false : false;\r\n        return <div key={index} className={classes.item}>{`${keys[index]}: ${text}`}</div>\r\n    })\r\n  }\r\n  return (\r\n      <Dialog\r\n        open={open}\r\n        TransitionComponent={Transition}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-slide-title\"\r\n        aria-describedby=\"alert-dialog-slide-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-slide-title\" className={classes.center}>{title}</DialogTitle>\r\n        <DialogContent className={classes.content}>\r\n          {/* {JSON.stringify(schedule)} */}\r\n          {items}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            ok\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n  )\r\n}\r\n","export default {\r\n    content: {\r\n        minWidth: 400,\r\n        minHeight: 100,\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        // flexFlow: 'row wrap',\r\n        justifyContent: 'space-around',\r\n        // alignItems: 'center',\r\n        padding: 10\r\n    },\r\n    item: {\r\n        margin: 10,\r\n        // background: 'red',\r\n        width:  250,\r\n        textAlign: 'center',\r\n        fontWeight: 'bold',\r\n    },\r\n    center: {\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    }\r\n}","import React from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport styles from './styles';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport getWebPushSub from 'workMaker';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\n//eslint-disable-next-line\r\nconst re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\nexport default ({ form, setForm }) => {\r\n    const classes = useStyles();\r\n\r\n    const [advanced, setAdvanced] = React.useState(false);\r\n\r\n    const handleTick = async (e) => {\r\n        const isWebPush = e.target.checked;\r\n        if(isWebPush) {\r\n            const sub = await getWebPushSub();\r\n            setForm({ ...form, checked: { touched: true, value: sub } })\r\n        }\r\n        else {\r\n            setForm({ ...form, checked: { touched: true, value: false } })\r\n        }\r\n    }\r\n\r\n    const changeHandler = e => {\r\n        setForm({ ...form, [e.target.name]: { touched: true, value: e.target.value } });\r\n    }\r\n\r\n    const validateMail = () => {\r\n        let test = re.test(String(form.mail.value).toLowerCase());\r\n        return ((!form.mail.value || !test) && form.mail.touched);\r\n    }\r\n\r\n    const validateName = () => {\r\n        return (!form.name.value && form.name.touched);\r\n    }\r\n\r\n    const validateBus = () => {\r\n        return (!form.bus.value && form.bus.touched);\r\n    }\r\n\r\n    const validateStation = () => {\r\n        return (!form.station.value && form.station.touched);\r\n    }\r\n\r\n    let more = [];\r\n    if (advanced) {\r\n        more = [<TextField key={1} className={classes.fake} margin=\"normal\" name=\"scheduleTrigger\" label=\"trigger time\" value={form.scheduleTrigger.value} type=\"number\" helperText=\"Waits for bus to be X minutes from ur station\" onChange={changeHandler} />,\r\n        <TextField key={2}  className={classes.fake} margin=\"normal\" label=\"notificates\" name=\"times\" value={form.times.value} type=\"number\" helperText=\"How much times to notificate?\" onChange={changeHandler} />]\r\n    }\r\n\r\n    const icon = advanced ? <ExpandLessIcon /> : <ExpandMoreIcon />; \r\n    return (\r\n            <div className={classes.form}>\r\n                <div className={classes.fields}>\r\n                    <TextField error={validateMail()} margin=\"normal\" name=\"mail\" required label=\"Mail\" value={form.mail.value} helperText=\"\" onChange={changeHandler} />\r\n                    <TextField error={validateName()} margin=\"normal\" autoComplete='off' name=\"name\" required label=\"name\" value={form.name.value} helperText=\"\" onChange={changeHandler} />\r\n                    <TextField error={validateBus()} margin=\"normal\" type=\"number\" name=\"bus\" required label=\"bus line\" value={form.bus.value} helperText=\"\" onChange={changeHandler} />\r\n                    <TextField error={validateStation()} margin=\"normal\" type=\"number\" name=\"station\" required label=\"station id\" value={form.station.value} helperText=\"\" onChange={changeHandler} />\r\n                    {/* <div></div> */}\r\n                    {/* <div className={classes.fake}></div> */}\r\n\r\n                    <TextField error={!form.hour.value && form.hour.touched} margin=\"normal\" name=\"hour\" label=\"Hour\" required \r\n                    value={form.hour.value} type=\"number\" helperText=\"\" onChange={changeHandler} />\r\n\r\n                    <TextField error={!form.minute.value && form.minute.touched} margin=\"normal\" name=\"minute\" label=\"Minute\" required\r\n                     value={form.minute.value} type=\"number\" helperText=\"\" onChange={changeHandler}/>\r\n\r\n                    <div className={classes.tick} >\r\n                        <IconButton onClick={()=> setAdvanced(!advanced)} >\r\n                            {icon}\r\n                        </IconButton>\r\n                        Advanced fields\r\n                    </div>\r\n\r\n                    {more}\r\n\r\n                </div>\r\n                <div className={classes.tick}>\r\n                    <Checkbox\r\n                        checked={form.checked.value ? true : false}\r\n                        onChange={handleTick}\r\n                        color=\"primary\"\r\n                        inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                    />\r\n                    use chrome notifications instead of mail?\r\n                </div>\r\n            </div>\r\n    )\r\n}","export default {\r\n    form: {\r\n        // padding: '10px',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'flex-start',\r\n        alignContent: 'flex-start',\r\n    },\r\n    fields: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around',\r\n        alignContent: 'flex-start',\r\n        // '& div': {\r\n        //     marginRight: 10,\r\n        //     width: 175\r\n        // }\r\n    },\r\n    advanced: {\r\n        width: '90%',\r\n        '&.MuiExpansionPanel-root:before': {\r\n            display: 'none',\r\n        },\r\n    },\r\n    fake: {\r\n        width: 200,\r\n    },\r\n    tick: {\r\n        marginTop: 20,\r\n        width: '100%',\r\n        marginLeft: '5%',\r\n        // padding: 10\r\n    }\r\n\r\n}","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { createScheduleRequest, updateScheduleRequest } from 'stateStuff/reducers/requestsReducer';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport LinearProgress from '@material-ui/core/LinearProgress';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\n// import DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport ScheduleForm from 'components/ScheduleForm';\r\n\r\nimport styles from './styles';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\n// if schedule === null then its add dialog  , otherwise its update dialog.\r\nconst DataDialog = ({ schedule, open, setOpen, createSchedule, updateSchedule, dialogStatus, loggedInMail }) => {\r\n    const classes = useStyles();\r\n\r\n    const [dialogError, setDialogError] = React.useState(null);\r\n    const [loading, setLoading] = React.useState(false);\r\n\r\n    const [form, setForm] = React.useState({\r\n        confirmDisabled: true,\r\n        mail: {touched: false, value: ''},\r\n        name: {touched: false, value: ''},\r\n        bus: {touched: false, value: ''},\r\n        station: {touched: false, value: ''},\r\n        scheduleTrigger: {touched: false, value: ''},\r\n        times: {touched: false, value: ''},\r\n        hour: {touched: false, value: ''},\r\n        minute: {touched: false, value: ''},\r\n        checked: {touched: false, value: false}})\r\n    \r\n    useEffect(() => {\r\n        if (dialogStatus?.success) {\r\n            setOpen(false);\r\n            setDialogError(null);\r\n            setLoading(false);\r\n        }\r\n\r\n        if (dialogStatus && !dialogStatus.success) {\r\n            setDialogError(String(dialogStatus.error));\r\n            setLoading(false);\r\n        }\r\n    // eslint-disable-next-line\r\n    }, [dialogStatus])\r\n\r\n    useEffect(() => {\r\n        if (schedule) {\r\n            setForm({...form, mail: {touched: false, value: schedule?.mail || '' },\r\n                name: {touched: false, value: schedule?.name || ''},\r\n                hour: {touched: false, value: schedule?.rule?.hour || '' },\r\n                minute: {touched: false, value: schedule?.rule?.minute || '' },\r\n                bus: {touched: false, value: schedule?.bus || ''},\r\n                station: {touched: false, value: schedule?.station || ''},\r\n                scheduleTrigger: {touched: false, value: schedule?.schedulescheduleTrigger || '' },\r\n                times: {touched: false, value: schedule?.times || '' },\r\n                checked: {touched: false, value: schedule?.webPushSub ? true : false}});\r\n        }\r\n        else {\r\n            setForm({...form, mail: {touched: false, value: loggedInMail },\r\n                name: {touched: false, value: ''},\r\n                hour: {touched: false, value: '' },\r\n                minute: {touched: false, value: '' },\r\n                bus: {touched: false, value: ''},\r\n                station: {touched: false, value: ''},\r\n                scheduleTrigger: {touched: false, value: '' },\r\n                times: {touched: false, value: '' },\r\n                checked: {touched: false, value: false }});\r\n\r\n        }\r\n        setDialogError(null);\r\n        setLoading(false);\r\n    // eslint-disable-next-line\r\n    }, [open])\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const confirm = () => {\r\n        let { mail, bus, station, scheduleTrigger, times, hour, minute, checked, name } = form;\r\n        let a = scheduleTrigger.value || null;\r\n\r\n        const triggerValue = scheduleTrigger.touched ? scheduleTrigger.value || null : '';\r\n        const timesValue = times.touched ? times.value || null : '';\r\n\r\n        const rule  = {hour: hour.value , minute: minute.value};\r\n        const data = {mail: mail.value, name: name.value ,bus: bus.value, station: station.value,\r\n        rule, scheduleTrigger: triggerValue, times: timesValue}\r\n\r\n        Object.keys(data).forEach(key => (data[key] === '' || data[key] === undefined) ? delete data[key] : {})\r\n\r\n        if(checked.touched) data.webPushSub = checked.value || false;\r\n\r\n        setLoading(true);\r\n\r\n        if (!schedule)\r\n            createSchedule(data);\r\n        else\r\n            updateSchedule({id: schedule.id, data});\r\n    }\r\n\r\n    const isBad = () => (!form.mail.value || !form.name.value || !form.bus.value || !form.station.value || !form.hour.value || !form.minute.value)\r\n\r\n    const title = schedule ? `Update Schedule ${schedule?.name}` : `Add new schedule`;\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            disableBackdropClick\r\n            disableEscapeKeyDown\r\n            TransitionComponent={Transition}\r\n            keepMounted\r\n            onClose={handleClose}\r\n            aria-labelledby=\"alert-dialog-slide-title\"\r\n            aria-describedby=\"alert-dialog-slide-description\"\r\n        >\r\n            {loading && <LinearProgress />}\r\n            <DialogTitle id=\"alert-dialog-slide-title\">{title}</DialogTitle>\r\n            <DialogContent>\r\n                \r\n                <ScheduleForm form={form} setForm={setForm} />\r\n                <div className={classes.error}> {dialogError} </div>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    no\r\n          </Button>\r\n                <Button onClick={confirm} color=\"primary\" disabled={isBad()}>\r\n                    {schedule ? 'Update' : 'Add'}\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n    // allFields: state.form,\r\n    dialogStatus: state.form.dialogStatus,\r\n    loggedInMail: state.myschedules.mail,\r\n    // buttonDisabled: state.form.error\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        createSchedule: (data) => dispatch(createScheduleRequest(data)),\r\n        updateSchedule: (data) => dispatch(updateScheduleRequest(data)),\r\n    };\r\n}\r\n\r\nconst ConnectedDataDialog = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(DataDialog);\r\n\r\nexport default ConnectedDataDialog;","export default {\r\n    error: {\r\n        color: 'red',\r\n        padding: 10,\r\n        textAlign: 'center',\r\n        fontWeight: 'bold'\r\n    }\r\n}","import  React,  { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Flipper, Flipped } from \"react-flip-toolkit\";\r\nimport { schedulesRequest, deleteScheduleRequest, updateSnackbar } from 'stateStuff/reducers/requestsReducer';\r\nimport 'App.css'\r\nimport styles from './styles';\r\nimport Schedule from './Schedule';\r\nimport DeleteDialog from 'components/DeleteConfirm';\r\nimport ViewSchedule from './ViewSchedule';\r\nimport DataDialog from 'components/dataDialog';\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst MainPage = ({getSchedules, deleteSchedule, schedules, updateSnackbar}) => {\r\n    const classes = useStyles();\r\n    const snackbar = useSnackbar();\r\n\r\n    // const [dialogError, setDialogError] = React.useState();\r\n    const [openUpdate, setOpenUpdate] = React.useState(false);\r\n    const [openDelete, setOpenDelete] = React.useState(false);\r\n    const [openView, setOpenView] = React.useState(false);\r\n    // const [currentSchedule, setCurrentSchedule] = React.useState();\r\n\r\n    // Get new schedule cards everytime they change\r\n    useEffect(()=> {\r\n        getSchedules()\r\n    },[getSchedules]);\r\n\r\n\r\n    // Update snackbar context, done once\r\n    useEffect(() => {\r\n      updateSnackbar(snackbar) \r\n    // eslint-disable-next-line\r\n    }, [snackbar])\r\n\r\n    const handleOpenUpdate = (schedule) => {\r\n      // setCurrentSchedule(schedule);\r\n      // console.log(currentSchedule);\r\n      setOpenUpdate(schedule);\r\n    }\r\n    const handleOpenDelete = (schedule) => {\r\n      // setCurrentSchedule(schedule);\r\n      setOpenDelete(schedule);\r\n    }\r\n    const handleOpenView = async (schedule) => {\r\n      // setCurrentSchedule(schedule);\r\n      setOpenView(schedule);\r\n      // setCurrentSchedule(schedule);\r\n    }\r\n\r\n    const handleConfirmDelete = () => {\r\n      deleteSchedule(openDelete.id);\r\n      setOpenDelete(false);\r\n    }\r\n\r\n    // console.log('content');\r\n    let cards = [];\r\n\r\n    if(schedules) {\r\n      if(schedules.length > 0) {\r\n        let schedulesArr = schedules;\r\n        cards = schedulesArr.map((item) =>\r\n          <Flipped flipId={item.id} key={item.id}>\r\n            <div onClick={()=>handleOpenView(item)}><Schedule schedule={item} updateSchedule={handleOpenUpdate} deleteSchedule={handleOpenDelete}/></div>\r\n          </Flipped>);\r\n      }\r\n      else {\r\n        cards = <p className={classes.noSchedules}> You don't have any schedules, be sure to create. </p>\r\n      }\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {!schedules && <LinearProgress /> }\r\n        <Flipper flipKey={cards.length}>\r\n            <div className={classes.content}>\r\n                  {cards}\r\n            </div>\r\n        </Flipper>\r\n\r\n        <DataDialog open={openUpdate ? true : false} setOpen={setOpenUpdate} schedule={openUpdate}/>\r\n        <DeleteDialog open={openDelete ? true : false} setOpen={setOpenDelete} item={openDelete} onConfirm={handleConfirmDelete}/>\r\n        <ViewSchedule open={openView ? true : false} setOpen={setOpenView} schedule={openView} />\r\n      </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    schedules: state.myschedules.schedules,\r\n  });\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      updateSnackbar: (snackbar) => dispatch(updateSnackbar(snackbar)),\r\n      getSchedules: () => dispatch(schedulesRequest()),\r\n      deleteSchedule: (id) => dispatch(deleteScheduleRequest(id)),\r\n    };\r\n  }\r\n\r\nconst connectedMainPage = connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(MainPage);\r\n\r\nexport default connectedMainPage;\r\n\r\n\r\n//             {/* <p onClick={() => createSchedule({ahha: 'ahaha', id: 'lda'})}> create </p> */}","export default {\r\n    content: {\r\n        // marginTop: '50px',\r\n        // height: '75vh',\r\n        maxHeight: '75vh',\r\n        // background: 'red',\r\n        width: '100%',\r\n        margin: '0 auto',\r\n        padding: '20px',\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        // alignContent: 'flex-start',\r\n        flexWrap: 'wrap',\r\n        overflowY: 'auto',\r\n        overflowX: 'hidden'\r\n        // tranisitionDuration: '3s',\r\n        // flexGrow: 1\r\n    },\r\n    contentGrid: {\r\n        listStyleType: 'none',\r\n        display: 'grid',\r\n        gridTemplateColumns: 'repeat(auto-fill, minmax(14rem, 1fr))',\r\n        gridAutoRows: '8rem',\r\n        gridGap: '1rem',\r\n        padding: 0,\r\n        margin: 0,\r\n    },\r\n    noSchedules: {\r\n        fontSize: '2em',\r\n        fontWeight: 'bold'\r\n    }\r\n}","import  React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport styles from './styles';\r\n// import { connect } from 'react-redux';\r\n// import { createScheduleRequest } from 'stateStuff/reducers/requestsReducer';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n// import AddDialog from './AddDialog';\r\nimport DataDialog from 'components/dataDialog';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nexport default () => {\r\n    const classes = useStyles();\r\n\r\n    const [openCreate, setopenCreate] = React.useState(false);\r\n\r\n    const handleOpenCreate = () => {\r\n      setopenCreate(true);\r\n    }\r\n    \r\n    return (\r\n        <>\r\n            <Fab color=\"primary\" aria-label=\"add\" className={classes.AddButton} onClick={()=> handleOpenCreate()}>\r\n                <AddIcon />\r\n            </Fab>\r\n            <DataDialog open={openCreate} setOpen={setopenCreate}/>\r\n        </>\r\n    )\r\n}\r\n  ","export default {\r\n    AddButton: {\r\n        position: 'absolute',\r\n        bottom: 0,\r\n        right: 0,\r\n        margin: '10px',\r\n        // zIndex: 10000\r\n    }\r\n}","import  React from 'react';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\n// import styles from './styles';\r\nimport Header from './Header';\r\nimport Content from './Content';\r\nimport Add from './AddSchedule';\r\n// const useStyles = makeStyles(styles);\r\n\r\nexport default () => {\r\n    // const classes = useStyles();\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Content />\r\n            <Add/>\r\n        </>\r\n    )\r\n}\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { loginRequest } from 'stateStuff/reducers/schedulesReducer';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport styles from './styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport VpnKeyIcon from '@material-ui/icons/VpnKey';\r\n\r\nconst useStyles = makeStyles(styles);\r\n\r\nconst LoginPage = ({ login, dialogStatus }) => {\r\n  const classes = useStyles();\r\n  const [mail, setMail] = useState('');\r\n  const [dialogError, setDialogError] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    if (dialogStatus?.success) {\r\n        setDialogError(null);\r\n    }\r\n\r\n    if (dialogStatus && !dialogStatus.success) {\r\n        setDialogError(String(dialogStatus.error));\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [dialogStatus])\r\n\r\n  React.useEffect(() => {\r\n    localStorage.removeItem(\"auth\");\r\n  }, [])\r\n\r\n\r\n  const keypress = e => {\r\n    if(e.key === 'Enter' && mail) {\r\n      login(mail);\r\n      e.preventDefault();\r\n    }\r\n  }\r\n  return (\r\n    <div className={classes.container}>\r\n      <Paper elevation={3} className={classes.formBox} >\r\n        {/* <div className={classes.svgContainer} > */}\r\n            <svg viewBox=\"0 0 500 230\" preserveAspectRatio=\"xMinYMin meet\" >\r\n              <path d=\"M0,100 C150,200 350,0 500,100 L500,00 L0,0 Z\" style={{stroke: 'none', fill:'rgba(0,0,0,0.2)'}}></path>\r\n            </svg>\r\n        {/* </div> */}\r\n        <div className={classes.forceTitle}>Hello</div>\r\n        {/* <form onSubmit={(event) => { event.preventDefault(); login(mail) }}> */}\r\n            <div className={classes.form}>\r\n              <TextField required autoFocus className={classes.mailField} margin=\"normal\" variant=\"outlined\" label=\"mail\" name=\"mail\" type='mail' \r\n                onChange={(e) => setMail(e.target.value)} onKeyPress={keypress}/>\r\n              <Button endIcon={<VpnKeyIcon />} type=\"submit\" margin=\"normal\" color=\"primary\" disabled={!mail} onClick={()=> login(mail)}>Login</Button>\r\n              \r\n            </div>\r\n            <div className={classes.error}> {dialogError} </div>\r\n        {/* </form> */}\r\n      </Paper>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  dialogStatus: state.form.dialogStatus,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    login: (mail) => dispatch(loginRequest(mail)),\r\n  };\r\n}\r\n\r\nconst connectedLoginPage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginPage);\r\n\r\nexport default connectedLoginPage;","export default {\r\n        '@keyframes fly': {\r\n        '0%': { transform: 'translateY(-400%)' },\r\n        '100%': { transform: 'translateY(0%)' }\r\n    },\r\n    svgContainer: { \r\n        display: 'inline-block',\r\n        position: 'relative',\r\n        width: '100%',\r\n        paddingBottom: '100%',\r\n        verticalAlign: 'middle',\r\n        overflow: 'hidden',\r\n    },\r\n    svgContent: { \r\n        display: 'inline-block',\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        height: '100%',\r\n        width: '100%',\r\n        overflow: 'hidden'\r\n    },\r\n    formBox: {\r\n        // padding: 20,\r\n        animation: '$fly 1s ease-out',\r\n        height: 400,\r\n        width: '50%',\r\n        minWidth: 300,\r\n        margin: '0 auto',\r\n        position: 'relative'\r\n        // verticalAlign: 'middle',\r\n    },\r\n    forceTitle: {\r\n        marginTop: 15,\r\n        width: '100%',\r\n        position: 'absolute',\r\n        top: 0,\r\n        textAlign: 'center',\r\n        fontSize: 'large',\r\n        overflow: 'hidden',\r\n        textOverflow: 'ellipsis',\r\n        margin: '0 auto',\r\n    },\r\n    form: {\r\n        position: 'absolute',\r\n        width: '100%',\r\n        bottom: 0,\r\n        display: 'flex',\r\n        justifyContent: 'center'\r\n    },\r\n    mailField: {\r\n        width: 150\r\n    },\r\n    error: {\r\n        color: 'red',\r\n        width: '100%',\r\n        position: 'absolute',\r\n        textAlign: 'center',\r\n        top: 0,\r\n        marginTop: 120,\r\n        padding: 10,\r\n        margin: '0 auto',\r\n        fontWeight: 'bold'\r\n    }\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nconst PrivateRoute = ({ component: Component, ...rest }) => {\r\n    // console.log({...rest});\r\n    // let token = rest.token;\r\n    return (\r\n        <Route {...rest} render={(props) => (\r\n            rest.token\r\n            ? <Component {...props} />\r\n            : <Redirect to={{\r\n                pathname: '/login',\r\n                state: { from: props.location }\r\n            }} />\r\n        )} />\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    token: state.myschedules.token\r\n});\r\n  \r\nconst connectedPrivateRoute = connect(\r\n    mapStateToProps,\r\n)(PrivateRoute);\r\n\r\nexport default connectedPrivateRoute;","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport store from './stateStuff/store';\r\nimport './App.css';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Router } from 'react-router';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport ThemeProvider from 'components/ThemeProvider/ThemeProvider';\r\nimport history from 'utils/history';\r\nimport MainPage from 'pages/MainPage';\r\nimport Login from 'pages/Login';\r\nimport ProtectedRoute from 'utils/privateRoute';\r\n\r\nfunction App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <ThemeProvider>\r\n        <SnackbarProvider maxSnack={3} style={{width: '50%'}}>\r\n          <Router history={history}>\r\n              <Switch>\r\n                  <Route exact path=\"/login\" component={Login} />\r\n                  <ProtectedRoute exact path=\"/\" component={MainPage} />\r\n              </Switch>\r\n          </Router>\r\n        </SnackbarProvider>\r\n      </ThemeProvider>\r\n    </Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n// import activateNotifications from './workMaker';\r\nReactDOM.render(\r\n  <React.Fragment>\r\n    <App />\r\n  </React.Fragment>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// activateNotifications();\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}